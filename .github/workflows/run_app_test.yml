run-name: test-app
on:
  push:
    branches:
      - dev
  pull_request:
    branches:
      - dev
      - main
jobs:
  run-python:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Setup Python
    - uses: actions/setup-python@v4
      with:
        python-version: '3.8'
    - name: Install poetry
        run: |
                curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -
                echo "$HOME/.poetry/bin" >> $GITHUB_PATH
    - name: Poetry Version
        run: |
                poetry --version
    - name: Poetry Install Dependencies
        run: |
                poetry install --no-interaction
    - name: running pytest    
        run: bash test/test.sh
